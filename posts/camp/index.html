<!DOCTYPE html>
<html lang="en-us">
	<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="author" content="Matt Allan">

<meta name="generator" content="Hugo 0.34" />
<title>Camp</title>
<link rel="shortcut icon" href="http://mattallan.org/images/favicon.ico">
<link rel="stylesheet" href="http://mattallan.org/css/style.css">
<link rel="stylesheet" href="http://mattallan.org/css/highlight.css">

<link rel="stylesheet" href="http://mattallan.org/css/custom.css">

<link rel="stylesheet" href="http://mattallan.org/css/syntax.css">



<link rel="stylesheet" href="http://mattallan.org/css/monosocialiconsfont.css">



<link href="http://mattallan.org/index.xml" rel="alternate" type="application/rss+xml" title="Matt Allan" />


<meta property="og:title" content="Camp" />
<meta property="og:description" content="Introduction Today I released camp, a simple installer and development environment for learning modern PHP development. When I first started learning PHP, trying to get everything installed properly was really frustrating. Since then it&rsquo;s gotten even more complicated. Camp is my attempt at making it simple.
It&rsquo;s 2016. why can&rsquo;t I just double click to install? Nearly every other languge has a one click installer. PHP links you to three different osx package managers with no indication as to which one is best, and another site that asks you to curl pipe sh without ssl and then sudo." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://mattallan.org/posts/camp/" />



<meta property="article:published_time" content="2016-01-16T12:00:00-05:00"/>

<meta property="article:modified_time" content="2016-01-16T12:00:00-05:00"/>













<meta itemprop="name" content="Camp">
<meta itemprop="description" content="Introduction Today I released camp, a simple installer and development environment for learning modern PHP development. When I first started learning PHP, trying to get everything installed properly was really frustrating. Since then it&rsquo;s gotten even more complicated. Camp is my attempt at making it simple.
It&rsquo;s 2016. why can&rsquo;t I just double click to install? Nearly every other languge has a one click installer. PHP links you to three different osx package managers with no indication as to which one is best, and another site that asks you to curl pipe sh without ssl and then sudo.">


<meta itemprop="datePublished" content="2016-01-16T12:00:00-05:00" />
<meta itemprop="dateModified" content="2016-01-16T12:00:00-05:00" />
<meta itemprop="wordCount" content="1443">



<meta itemprop="keywords" content="" />

<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Camp"/>
<meta name="twitter:description" content="Introduction Today I released camp, a simple installer and development environment for learning modern PHP development. When I first started learning PHP, trying to get everything installed properly was really frustrating. Since then it&rsquo;s gotten even more complicated. Camp is my attempt at making it simple.
It&rsquo;s 2016. why can&rsquo;t I just double click to install? Nearly every other languge has a one click installer. PHP links you to three different osx package managers with no indication as to which one is best, and another site that asks you to curl pipe sh without ssl and then sudo."/>
<meta name="twitter:site" content="@https://www.twitter.com/__yuloh"/>


    </head>
<body>
    <nav class="main-nav">
	
		<a href='http://mattallan.org/'> <span class="arrow">←</span>Home</a>
	

	

	
		<a class="cta" href="http://mattallan.org/index.xml">Subscribe</a>
	
</nav>

    <section id="wrapper">
        
        
<article class="post">
    <header>
        <h1>Camp</h1>
        <h2 class="subtitle"></h2>
        <h2 class="headline">
        January 16, 2016
        <br>
        
        </h2>
    </header>
    <section id="post-body">
        

<h2 id="introduction">Introduction</h2>

<p>Today I released <a href="https://github.com/matthew-james/camp">camp</a>, a simple installer and development environment for learning modern PHP development.  When I first started learning PHP, trying to get everything installed properly was really frustrating.  Since then it&rsquo;s gotten even more complicated.  Camp is my attempt at making it simple.</p>

<h2 id="it-s-2016-why-can-t-i-just-double-click-to-install">It&rsquo;s 2016. why can&rsquo;t I just double click to install?</h2>

<p>Nearly every other languge has a one click installer.  PHP <a href="http://php.net/manual/en/install.macosx.packages.php">links you</a> to three different osx package managers with no indication as to which one is best, and another site that asks you to <a href="http://curlpipesh.tumblr.com/">curl pipe sh</a> without ssl and then sudo.</p>

<p><img src="/images/posts/camp/pkg-installers.png" alt="package installers" /></p>

<h2 id="the-stack">The Stack</h2>

<p>I started thinking about what I would need installed to teach someone modern PHP development.</p>

<h3 id="php">PHP</h3>

<p>Obviously, you need PHP installed.  It should be a modern version so they can use modern packages and frameworks, and not get frustrated when code from tutorials doesn&rsquo;t work.  Last I checked OSX ships with 5.4, which is too old.</p>

<p>It also needs to be usable from the terminal.  You shouldn&rsquo;t have to learn about <code>~/.bash_profile</code>, <code>$PATH</code> and everything just to get to hello world.</p>

<h3 id="repl">REPL</h3>

<p>When I was first learning PHP I wrote a lot of <code>test.php</code> scripts and wrote little snippets in there.  I would write some code, CTRL-S to save, CTRL-tab over to the browser, and press F5 to refresh.  I got <strong>really</strong> good at that.</p>

<p>Later I learned what a <a href="https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop">REPL</a> is, and I really wished I used one of those when I was learning.  PHP <strong>sort of</strong> has one if you type <code>php -a</code>.  I think I tried it once and got frustrated.  This guy <a href="https://github.com/bobthecow">bobthecow</a> thought <code>php -a</code> sucked too, so he wrote <a href="http://psysh.org/">psysh</a>.  Psysh is so rad.  Forgot how to use a function? type <code>doc</code>:</p>

<pre><code>&gt;&gt;&gt; doc array_get
function array_get($array, $key, $default = null)

Description:
  Get an item from an array using &quot;dot&quot; notation.

Param:
  array   $array
  string  $key
  mixed   $default

Return:
  mixed
</code></pre>

<p>Something threw an exception? Type <code>wtf</code>:</p>

<pre><code>&gt;&gt;&gt; wtf
ReflectionException with message 'Class Some\Class does not exist'
--
0:  () at vendor/illuminate/container/Container.php:736
&gt;&gt;&gt;
</code></pre>

<h3 id="web-server">Web Server</h3>

<p>You need a way to serve your scripts over HTTP.  When I first started I used Apache.  I spent alot of time editing <code>.conf</code> and <code>.htaccess</code> files.  While that is good stuff to know, it&rsquo;s just another source of potential issues.</p>

<p>Luckily PHP ships with a built in web server that requires 0 configuration.  Just type <code>php -S localhost:3000</code> and you are good to go.</p>

<h3 id="database">Database</h3>

<p>I didn&rsquo;t get good at SQL for a long time.  I think I could barely use SQL for about 10 years after getting my first PHP book.  I was trying to learn MySQL, but if I was teaching someone I would teach SQLite first.</p>

<p>SQLite doesn&rsquo;t do the whole client/server thing.  You don&rsquo;t have to worry about starting a daemon.  There aren&rsquo;t any scary security configs when you set it up.</p>

<p>More importantly, your database is just a file.  I think this is easier to wrap your head around.  You can just copy and paste your database or delete it.  You don&rsquo;t need to learn <code>mysqldump</code> or install <code>phpmyadmin</code> to deploy.</p>

<p>I was worried there wouldn&rsquo;t be a good GUI like <a href="http://www.sequelpro.com/">sequel pro</a>, but there is!  <a href="http://sqlitebrowser.org/">DB Browser</a> is awesome.  You can create data with a spreadsheet style interface and it shows you the cooresponding SQL.  Really nice way to learn, in my opinion.</p>

<h3 id="composer">Composer</h3>

<p>I would consider Composer essential to modern PHP development.  Getting composer installed and into your PATH is pretty straightforward.  You usually end up needing the global <code>~/.composer/vendor/bin</code> in your PATH too, so that you can use stuff like Laravel homestead or phpunit.</p>

<h3 id="self-contained">Self Contained</h3>

<p>When I was learning to program I seriously messed up my computer a few times.  Once I accidently unset my PATH and couldn&rsquo;t figure out how to fix it.  I&rsquo;ve screwed up file permissions really bad.  It would be nice if you could wipe out your dev environment and start over.</p>

<h2 id="alternatives">Alternatives</h2>

<h3 id="just-use-vagrant">&ldquo;Just use Vagrant&rdquo;</h3>

<p>When I first started talking about this project, the response I got was &lsquo;just use Vagrant&rsquo;.  I see the same response when beginners ask for help with development environment issues.  Let me try to break down why I think Vagrant is a bad choice when you are just learning.</p>

<p>If I want to use Vagrant for PHP development, I would probably use Laravel&rsquo;s homestead since it&rsquo;s the most popular box for PHP.  Let&rsquo;s say my goal is to be able to use the REPL and load a script in my browser.  I would end up doing all of this just to get to hello world:</p>

<ul>
<li>Download Vagrant.</li>
<li>Download Virtualbox.</li>
<li><code>vagrant box add laravel/homestead</code>, and wait for a 1GB download to complete.</li>
<li>Install the osx developer tools so I can use git.  First I need to create an Apple developer account.</li>
<li><code>git clone https://github.com/laravel/homestead.git Homestead</code></li>
<li><code>cd Homestead &amp;&amp; bash init.sh</code></li>
<li>Edit <code>/etc/hosts</code>, which requires sudo.</li>
<li><code>Vagrant up</code>.  There goes 2GB of my memory.</li>
<li><code>Vagrant ssh</code></li>
<li><code>wget psysh.org/psysh</code></li>
<li><code>chmod +x psysh</code></li>
<li><code>sudo mv ./psysh /usr/local/bin/psysh</code></li>
</ul>

<p>To get started learning PHP, I had to:</p>

<ul>
<li>Download ~1.5 GB of files.</li>
<li>Learn about virtualization, vagrant, sudo, git, the hosts file, and file permissions.</li>
<li>Follow instructions from Virtualbox, Vagrant, Laravel, and Psysh.</li>
<li>Try and figure out how to fix anything that goes wrong during any of those steps, with tools I&rsquo;ve never used before.</li>
</ul>

<p>It&rsquo;s hard to put yourself in the shoes of a beginner and realize how hard this stuff can be.  <a href="https://laravel.com/docs/master/homestead">These</a> are the official homestead docs.  They assume you have used git before.  Imagine never having used a shell before, not knowing what git is, and not understand the PATH or that shell commands are really binaries in your PATH.</p>

<p>If you go to install homestead:</p>

<pre><code>➜  ~  git clone https://github.com/laravel/homestead.git Homestead
zsh: command not found: git
</code></pre>

<p>Now you are googling around, reading stack overflow and trying to find the correct solution.  If you search &ldquo;command not found: git osx&rdquo; the <a href="http://stackoverflow.com/questions/1835837/git-command-not-found-on-os-x-10-5">first search result</a> says:</p>

<blockquote>
<p>Open ~/.profile in your favorite editor and add the line
export PATH=$PATH:/usr/local/git/bin</p>
</blockquote>

<p>Remember, everyone doesn&rsquo;t know that starting the file with a dot makes it hidden.  On OSX you can&rsquo;t even view hidden files by default.  Now let&rsquo;s say you figure out how to show hidden files, and figure out that <code>~/</code> means home.  You go to your home folder, and <code>~/.profile</code> doesn&rsquo;t exist!  Is it safe to add it?  Does it need a special tag at the top like PHP?  What file format do you save it as?</p>

<p>The point is, Vagrant is terribly complicated for a beginner.  <strong>Yes</strong>, using Vagrant is a best practice, but when you are just starting out it adds way too much friction to the setup process for what you get out of it.</p>

<h3 id="mamp">Mamp</h3>

<p>Mamp mostly works, but by default MAMP&rsquo;s PHP doesn&rsquo;t work from the terminal.  I googled how to install Composer using MAMP and the <a href="https://gist.github.com/irazasyed/5987693">first result</a> says you need to open the <code>~/.bash_profile</code> in vim (!!) and add the Mamp PHP version to the PATH.  If they ever make it out of vim they are going to need to learn how to source or restart the terminal.  Then they are going to try and composer install something and it&rsquo;s going to fail because the instructions said to put <code>php5.4.10</code> in the PATH.  Sounds like an equally bad experience to me.</p>

<h3 id="homebrew">Homebrew</h3>

<p>I love homebrew, and I use it to install PHP on all my machines.  It&rsquo;s still a ton of shell commands to run.  You need to install homebrew, then tap versions, dupes, and homebrew-php.  After that you have to edit your bash profile and add brew&rsquo;s PHP to the PATH.  Still not the simple beginner friendly experience I&rsquo;m hoping for.</p>

<h2 id="camp">Camp</h2>

<p>So that&rsquo;s what I have against the alternatives and why I built something else.</p>

<p>I&rsquo;m really bad at C.  I am probably missing some important detail but so far everything works on the Macs I&rsquo;ve tried it on.  It works like this:</p>

<p>Everything is precompiled to work out of the path <code>/Applications/Camp</code>.  Then it&rsquo;s packed up and put into a dmg image.  There is an application &lsquo;Camp Terminal&rsquo;, which is really just an applescript that launches the regular terminal.app and overrides the PATH to point to camp.</p>

<p>It turns out Travis CI has osx build servers so I use Travis to build a new dmg everytime I tag a release.  The dmg is uploaded to github and attached to the release.</p>

<p>The result is a 6MB dmg that you drag to install.  Zero configuration and it just works.</p>

<p>Camp isn&rsquo;t for everybody.  It only supports the bare minimum of features required to learn PHP.  Hopefully it will be useful.</p>

    </section>
</article>

<footer id="post-meta" class="clearfix">
    <a href="https://twitter.com/__yuloh">
    <img class="avatar" src="http://mattallan.org/images/avatar.png">
    <div>
        <span class="dark">Matt Allan</span>
        <span></span>
    </div>
    </a>
    <section id="sharing">
        <a class="twitter" href="https://twitter.com/intent/tweet?text=http%3a%2f%2fmattallan.org%2fposts%2fcamp%2f - Camp by @__yuloh"><span class="icon-twitter"> tweet</span></a>

<a class="facebook" href="#" onclick="
    window.open(
      'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href),
      'facebook-share-dialog',
      'width=626,height=436');
    return false;"><span class="icon-facebook-rect"> Share</span>
</a>

    </section>
</footer>



<ul id="post-list" class="archive readmore">
    <h3>Read more</h3>

    
    
    
        <li>
            <a href="/posts/protobuf-php-services/">Protobuf PHP Services<aside class="dates">Jan 27 2018</aside></a>
        </li>
    
        <li>
            <a href="/posts/dependency-injection-containers-part-ii-autowiring/">Understanding Dependency Injection Containers Part II - Autowiring<aside class="dates">Sep 1 2016</aside></a>
        </li>
    
        <li>
            <a href="/posts/setting-the-guard-per-route-in-laravel/">Setting the Guard Per Route in Laravel<aside class="dates">Jul 22 2016</aside></a>
        </li>
    
        <li>
            <a href="/posts/dependency-injection-containers/">Understanding Dependency Injection Containers<aside class="dates">Jul 15 2016</aside></a>
        </li>
    
        <li>
            <a href="/posts/json-schema-references/">JSON Schema References<aside class="dates">May 5 2016</aside></a>
        </li>
    
        <li>
            <a href="/posts/dont-use-illuminate-support/">Don&#39;t Use Illuminate Support<aside class="dates">Apr 21 2016</aside></a>
        </li>
    
        <li>
            <a href="/posts/github-pages-best-practices/">Github Pages Best Practices<aside class="dates">Apr 12 2016</aside></a>
        </li>
    
        <li>
            <a href="/posts/iife-life-iife-in-php/">IIFE LIFE - IIFE In PHP<aside class="dates">Apr 12 2016</aside></a>
        </li>
    
        <li>
            <a href="/posts/automatically-run-unit-tests-with-entr/">Automatically Run Unit Tests With entr<aside class="dates">Mar 31 2016</aside></a>
        </li>
    
        <li>
            <a href="/posts/rest-and-ddd/">REST and DDD<aside class="dates">Mar 30 2016</aside></a>
        </li>
    
</ul>



        <footer id="footer">
    
        <div id="social">

	
	
    
    <a class="symbol" href="https://www.github.com/yuloh">
        circlegithub
    </a>
    
    <a class="symbol" href="https://www.twitter.com/__yuloh">
        circletwitterbird
    </a>
    


</div>

    
    <p class="small">
    
        © Copyright 2018 Matt Allan
    
    </p>
</footer>

    </section>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="http://mattallan.org/js/main.js"></script>
<script src="http://mattallan.org/js/highlight.js"></script>
<script>hljs.initHighlightingOnLoad();</script>





</body>
</html>
